"use strict";var main={init:function(){Handlebars.registerHelper("link",(function(n,e){e=Handlebars.escapeExpression(e),n=Handlebars.escapeExpression(n);return new Handlebars.SafeString("<a href='"+e+"' class='button-v1 btn-color-1'><i class='"+n+"'></i></a>")})),Handlebars.registerHelper("inc",(function(n,e){return parseInt(n)+1}))},cardTransactionLocations:function(){var n,e={url:"assets/images/layout/pin.png",size:new google.maps.Size(100,102),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(50,48)},t=null,a=null,i=[];$.ajax({type:"GET",url:"assets/ajax/marker.json"}).done((function(o){n=o,function(){a=new google.maps.Map(document.getElementById("map"),{center:new google.maps.LatLng(n.mapsCenter[0]),zoom:11,mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!1}),t&&(t.clearMarkers(),i=[]);for(var o=0;o<n.data.length;++o){var r=new google.maps.LatLng(n.data[o].lat,n.data[o].lng),l=new google.maps.Marker({position:r,icon:e,markerLat:n.data[o].lat,markerLng:n.data[o].lng,selectedId:o,selectedState:!1});i.push(l)}t=new MarkerClusterer(a,i,{gridSize:40,styles:[{url:"assets/images/layout/map-cluster.png",width:52,height:52,textColor:"#ffffff"}]})}()}))},inputAction:function(){if($(".next-input-field").length){var n=$(".next-input-field"),e=n.attr("maxlength");n.keydown((function(n){if(8==n.which&&0==this.value.length)$(this).prev("input").focus();else{if($.inArray(n.which,[8,9,19,20,27,33,34,35,36,37,38,39,40,45,46,144,145])>=0)return!0;if(this.value.length>=e)return $(this).next("input").focus(),!1}})).keyup((function(){this.value.length>=e?$(this).next("input").focus():$(this).parents("form").valid()}))}},selectbox:function(){$("select").select2()},filterControl:function(){if($(".dynamic-content").length&&Boolean($(".dynamic-content").data("template-url"))){var n,e=$(".dynamic-content"),t=e.data("template-url"),a=e.data("json-url");$.ajax({url:t,method:"GET"}).done((function(e){n=e,$("#filter-form").length?$("#filter-form").submit((function(e){e.preventDefault();var t=$("#filter-form").serialize();i(a,n,t)})).submit():i(a,n)}))}function i(n,e,t){$(".dynamic-page").addClass("loading").find(".dynamic-content").html(""),$.ajax({url:n,method:"GET",dataType:"json",data:t,async:!1}).done((function(n){var t=Handlebars.compile(e)(n);$(".dynamic-content").html(t).parents(".dynamic-page").removeClass("loading")}))}}};function initMap(){$("#map").length&&main.cardTransactionLocations()}$((function(){main.init(),main.inputAction(),main.selectbox(),main.filterControl()}));